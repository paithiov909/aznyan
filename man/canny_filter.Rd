% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/edge.R
\name{canny_filter}
\alias{canny_filter}
\title{Canny edge detection (grayscale or RGB)}
\usage{
canny_filter(
  nr,
  asize = 2,
  balp = FALSE,
  use_rgb = TRUE,
  thres1 = 100,
  thres2 = 200,
  grad = TRUE
)
}
\arguments{
\item{nr}{A \code{nativeRaster} object.}

\item{asize}{An integer scalar giving the aperture size parameter; the
actual Sobel kernel size used internally by Canny is \code{2 * asize - 1}.}

\item{balp}{A logical scalar. If \code{TRUE}, derive the alpha channel from the
detected edges by thresholding; if \code{FALSE}, preserve the input alpha.}

\item{use_rgb}{A logical scalar. If \code{TRUE}, compute edges per RGB channel
and aggregate them; if \code{FALSE}, operate on grayscale only.}

\item{thres1}{A numeric scalar giving the lower hysteresis threshold.}

\item{thres2}{A numeric scalar giving the upper hysteresis threshold.}

\item{grad}{A logical scalar indicating whether to use a more accurate
gradient calculation (\code{L2gradient = TRUE}) or the default (\code{FALSE}).}
}
\value{
A \code{nativeRaster} object.
}
\description{
Applies the Canny edge detector to a \code{nativeRaster} image.
The filter can operate either on a grayscale conversion
or by aggregating edges detected independently from each RGB channel.
The result is returned as a 3-channel
binary edge map, with optional alpha masking.
}
\details{
\subsection{Grayscale mode (\code{use_rgb = FALSE})}{

The input is converted to grayscale and passed to the Canny operator.
The aperture size of the Sobel derivative is \code{2 * asize - 1}. When
\code{balp = TRUE}, the alpha channel is thresholded from the detected edges.
}

\subsection{RGB mode (\code{use_rgb = TRUE})}{

Canny is applied independently to each RGB channel, and the resulting edge
maps are summed to form a combined edge representation. The alpha channel is
either thresholded (\code{balp = TRUE}) or preserved from the input.
}

\subsection{Options}{

\code{border} corresponds to:
\enumerate{
\item cv::BORDER_CONSTANT
\item cv::BORDER_REPLICATE
\item cv::BORDER_REFLECT
\item cv::BORDER_REFLECT_101
\item cv::BORDER_ISOLATED
}
}
}
