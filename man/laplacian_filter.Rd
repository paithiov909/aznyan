% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/edge.R
\name{laplacian_filter}
\alias{laplacian_filter}
\title{Laplacian edge detection (grayscale or RGB)}
\usage{
laplacian_filter(
  nr,
  ksize = 3,
  balp = TRUE,
  use_rgb = TRUE,
  border = c(3, 4, 0, 1, 2),
  scale = 1,
  delta = 0
)
}
\arguments{
\item{nr}{A \code{nativeRaster} object.}

\item{ksize}{An integer scalar specifying the kernel radius. The effective
Laplacian kernel size becomes \code{2 * ksize - 1}. Must be non-negative.}

\item{balp}{A logical scalar. If \code{TRUE}, generate alpha from edge intensity
by thresholding; if \code{FALSE}, preserve the original alpha.}

\item{use_rgb}{A logical scalar. If \code{TRUE}, compute Laplacian derivatives for
each RGB channel separately; if \code{FALSE}, operate on grayscale only.}

\item{border}{An integer scalar selecting the border-handling mode. One of
\verb{0â€“4}, corresponding to OpenCV border modes.}

\item{scale}{A numeric scalar that scales the computed Laplacian derivative.}

\item{delta}{A numeric scalar added to the filtered result before scaling.}
}
\value{
A \code{nativeRaster} object.
}
\description{
Apply a Laplacian filter to detect edges in a \code{nativeRaster} image.
The Laplacian operator computes second-order derivatives,
highlighting regions of rapid intensity change.
The result is returned as a 3-channel grayscale image,
with optional binary alpha masking.
}
\details{
\subsection{Grayscale mode (\code{use_rgb = FALSE})}{

The input image is converted to grayscale, normalized to \verb{[0, 1]}, and the
Laplacian operator is applied using a kernel of size \code{2 * ksize - 1}. The
output is rescaled to \verb{[0, 255]}. When \code{balp = TRUE}, the alpha channel is
thresholded based on edge intensity.
}

\subsection{RGB mode (\code{use_rgb = TRUE})}{

The Laplacian operator is applied independently to each RGB channel, and the
channelwise derivatives are summed to produce a combined edge map. The alpha
channel is determined either by thresholding (\code{balp = TRUE}) or by preserving
the original.
}

\subsection{Options}{

\code{border} corresponds to:
\enumerate{
\item cv::BORDER_CONSTANT
\item cv::BORDER_REPLICATE
\item cv::BORDER_REFLECT
\item cv::BORDER_REFLECT_101
\item cv::BORDER_ISOLATED
}
}
}
