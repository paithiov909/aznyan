% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/blur.R
\name{kuwahara_filter}
\alias{kuwahara_filter}
\title{Softmax-guided edge-aware smoothing (Kuwahara-like)}
\usage{
kuwahara_filter(
  nr,
  kernel1 = kernel_cone(7),
  kernel2 = kernel_cone(5),
  beta = 30,
  border = c(3, 4, 0, 1, 2)
)
}
\arguments{
\item{nr}{A \code{nativeRaster} object.}

\item{kernel1}{A numeric matrix used to compute local mean and variance.}

\item{kernel2}{A numeric matrix used to compute the final weighted average.}

\item{beta}{A double scalar controlling the sharpness of softmax weighting.
Higher values make the filter more strongly directional.}

\item{border}{An integer scalar.
The type of pixel extrapolation method.}
}
\value{
A \code{nativeRaster} object.
}
\description{
This filter produces a painting-like, edge-aware smoothing effect inspired by
the Kuwahara filter, but it does \emph{not} implement the classical four-region
Kuwahara algorithm.

Instead, it estimates local variance using \code{kernel1} and
applies a softmax-like weighting (\code{exp(-beta * variance)}) to emphasize
smoother directions, then computes a weighted average using \code{kernel2}.
The method originates from the idea described in
\url{https://qiita.com/Cartelet/items/7773cd56c7ce016476d9}.
}
\details{
\code{border} corresponds to the OpenCV extrapolation types:
\enumerate{
\item cv::BORDER_CONSTANT
\item cv::BORDER_REPLICATE
\item cv::BORDER_REFLECT
\item cv::BORDER_REFLECT_101
\item cv::BORDER_ISOLATED
}
}
