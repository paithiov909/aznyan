% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/edge.R
\name{sobel_filter}
\alias{sobel_filter}
\title{Sobel edge detection (grayscale or RGB)}
\usage{
sobel_filter(
  nr,
  ksize = 3,
  balp = TRUE,
  use_rgb = TRUE,
  border = c(3, 4, 0, 1, 2),
  dx = 1,
  dy = dx,
  scale = 1,
  delta = 0
)
}
\arguments{
\item{nr}{A \code{nativeRaster} object.}

\item{ksize}{An integer scalar giving the filter radius. The actual Sobel
kernel size becomes \code{2 * ksize - 1}. Must be non-negative.}

\item{balp}{A logical scalar. If \code{TRUE}, the alpha channel is thresholded
from the edge map; if \code{FALSE}, the alpha channel is preserved.}

\item{use_rgb}{A logical scalar. If \code{TRUE}, compute Sobel edges from each RGB
channel and aggregate; if \code{FALSE}, compute on grayscale only.}

\item{border}{An integer scalar selecting the border-handling mode. One of
\verb{0â€“4}, corresponding to OpenCV border types.}

\item{dx}{An integer scalar specifying the order of the derivative in x.}

\item{dy}{An integer scalar specifying the order of the derivative in y.}

\item{scale}{A numeric scalar scaling the computed Sobel derivative.}

\item{delta}{A numeric scalar added to the results prior to scaling.}
}
\value{
A \code{nativeRaster} object.
}
\description{
Applies a Sobel filter to extract edges from a \code{nativeRaster} image. The
operation can be performed on a grayscale conversion or by aggregating
per-channel gradients from the RGB channels. The resulting edge intensity is
returned as a 3-channel grayscale image, with optional binary alpha masking.
}
\details{
\subsection{Grayscale mode (\code{use_rgb = FALSE})}{

The image is converted to grayscale, normalized to \verb{[0, 1]}, and the Sobel
derivative is computed using the specified derivative orders \code{dx}, \code{dy}, and
kernel size \code{ksize}. Edges are mapped to \verb{[0, 255]}. When \code{balp = TRUE},
the alpha channel is binarized based on the detected edges.
}

\subsection{RGB mode (\code{use_rgb = TRUE})}{

Sobel derivatives are computed independently for each RGB channel and summed
to produce a combined edge response. The alpha channel is either binarized
from the edge map (\code{balp = TRUE}) or preserved from the input.
}

\subsection{Options}{

\code{border} corresponds to:
\enumerate{
\item cv::BORDER_CONSTANT
\item cv::BORDER_REPLICATE
\item cv::BORDER_REFLECT
\item cv::BORDER_REFLECT_101
\item cv::BORDER_ISOLATED
}
}
}
