% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/effects.R
\name{lineweave}
\alias{lineweave}
\title{Modulation filter}
\usage{
lineweave(
  nr,
  fg = nr,
  bg = blurhash(nr, 3, 3),
  omega = 10,
  phase = 5,
  init = 1,
  interval = 1,
  step = 2,
  invert = FALSE,
  direction = c(3, 0, 1, 2)
)
}
\arguments{
\item{nr}{A \code{nativeRaster} object.}

\item{fg}{A \code{nativeRaster} object used as the foreground source
for stroke pixels. It must have the same dimensions as \code{nr}.}

\item{bg}{A \code{nativeRaster} object used as the background source
for non-stroke pixels. It must have the same dimensions as \code{nr}.}

\item{omega}{A positive numeric scalar scaling
how fast luminance accumulates per pixel.}

\item{phase}{A positive numeric scalar giving the luminance threshold
for triggering events.}

\item{init}{A positive integer scalar
giving the number of stroke events to emit in one cycle.}

\item{interval}{A non-negative integer scalar
giving the number of trigger events to skip between cycles.}

\item{step}{A non-negative integer scalar
giving the stroke length in pixels for each event.}

\item{invert}{A logical scalar
indicating whether bright pixels (instead of dark pixels)
contribute more strongly to triggering.}

\item{direction}{An integer giving the scan direction
\itemize{
\item \code{3} = left-to-right
\item \code{0} = right-to-left
\item \code{1} = top-to-bottom
\item \code{2} = bottom-to-top
}}
}
\description{
Weaves short line segments across an image by scanning pixels and triggering
strokes based on accumulated luminance.
}
\details{
This effect walks through the image in the selected \code{direction}.
At each pixel, luminance is accumulated and compared with \code{phase}.
When the threshold is reached,
a stroke event may start depending on \code{init} and \code{interval},
and \code{step} pixels are drawn from \code{fg}; otherwise pixels are taken from \code{bg}.
}
